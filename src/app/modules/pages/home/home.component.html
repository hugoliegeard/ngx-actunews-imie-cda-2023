<div class="box-caption">
  <span>En avant</span>
</div>
<!--spotlight-->
<owl-carousel-o *ngIf="posts.length > 0" [options]="owlOptions">
  <ng-template carouselSlide *ngFor="let post of featuredPosts">
    <div>
      <article class="spotlight-item">
        <div class="spotlight-img">
          <img alt="{{ post.title }}" src="https://localhost:8000/images/posts/{{ post.imageName }}"
               class="img-responsive"/>
          <a [routerLink]="post.category.slug" class="cate-tag">{{ post.category.name }}</a>
        </div>
        <div class="spotlight-item-caption">
          <h2 class="font-heading">
            <a [routerLink]="post.category.slug + '/' + post.slug">
              {{ post.title }}
            </a>
          </h2>
          <div class="meta-post">
            <a href="#">
              {{ post.user.DisplayName }}
            </a>
            <em></em>
            <span>
                {{ post.createdAt|date : 'dd/MM/yyyy' }}
            </span>
          </div>
        </div>
      </article>
    </div>
  </ng-template>
</owl-carousel-o>

<!--spotlight-thumbs-->
<section class="spotlight-thumbs" *ngIf="posts.length > 0">
  <div
    class="row"
    infiniteScroll
    [infiniteScrollDistance]="2"
    [infiniteScrollThrottle]="50"
    (scrolled)="onScroll()">
    <div class="col-md-4 col-sm-4 col-xs-12" *ngFor="let post of posts">
      <div class="spotlight-item-thumb">
        <div class="spotlight-item-thumb-img">
          <a [routerLink]="post.category.slug + '/' + post.slug">
            <img height="160" alt="{{ post.title }}" src="https://localhost:8000/images/posts/{{ post.imageName }}"/>
          </a>
          <a [routerLink]="post.category.slug" class="cate-tag">{{ post.category.name }}</a>
        </div>
        <h3><a [routerLink]="post.category.slug + '/' + post.slug">{{ post.title }}</a></h3>
        <div class="meta-post">
          <a href="#">
            {{ post.user.DisplayName }}
          </a>
          <em></em>
          <span>
              {{ post.createdAt|date : 'dd/MM/yyyy' }}
          </span>
        </div>
      </div>
    </div>
  </div>
</section>

<div *ngIf="posts.length === 0">
  <article class="spotlight-item">
    <div class="spotlight-img">
      <ngx-skeleton-loader [theme]="{height: '400px'}" count="1"></ngx-skeleton-loader>
      <ngx-skeleton-loader count="1" appearance="line"></ngx-skeleton-loader>
      <ngx-skeleton-loader count="1" appearance="line"></ngx-skeleton-loader>
    </div>
  </article>
</div>

<section class="spotlight-thumbs" *ngIf="posts.length === 0">
  <div class="row">
    <div class="col-md-4 col-sm-4 col-xs-12">
      <div class="spotlight-item-thumb">
        <div class="spotlight-item-thumb-img">
          <ngx-skeleton-loader [theme]="{height: '120px'}" count="1"></ngx-skeleton-loader>
          <ngx-skeleton-loader count="1" appearance="line"></ngx-skeleton-loader>
        </div>
      </div>
    </div>
    <div class="col-md-4 col-sm-4 col-xs-12">
      <div class="spotlight-item-thumb">
        <div class="spotlight-item-thumb-img">
          <ngx-skeleton-loader [theme]="{height: '120px'}" count="1"></ngx-skeleton-loader>
          <ngx-skeleton-loader count="1" appearance="line"></ngx-skeleton-loader>
        </div>
      </div>
    </div>
    <div class="col-md-4 col-sm-4 col-xs-12">
      <div class="spotlight-item-thumb">
        <div class="spotlight-item-thumb-img">
          <ngx-skeleton-loader [theme]="{height: '120px'}" count="1"></ngx-skeleton-loader>
          <ngx-skeleton-loader count="1" appearance="line"></ngx-skeleton-loader>
        </div>
      </div>
    </div>
    <div class="col-md-4 col-sm-4 col-xs-12">
      <div class="spotlight-item-thumb">
        <div class="spotlight-item-thumb-img">
          <ngx-skeleton-loader [theme]="{height: '120px'}" count="1"></ngx-skeleton-loader>
          <ngx-skeleton-loader count="1" appearance="line"></ngx-skeleton-loader>
        </div>
      </div>
    </div>
    <div class="col-md-4 col-sm-4 col-xs-12">
      <div class="spotlight-item-thumb">
        <div class="spotlight-item-thumb-img">
          <ngx-skeleton-loader [theme]="{height: '120px'}" count="1"></ngx-skeleton-loader>
          <ngx-skeleton-loader count="1" appearance="line"></ngx-skeleton-loader>
        </div>
      </div>
    </div>
    <div class="col-md-4 col-sm-4 col-xs-12">
      <div class="spotlight-item-thumb">
        <div class="spotlight-item-thumb-img">
          <ngx-skeleton-loader [theme]="{height: '120px'}" count="1"></ngx-skeleton-loader>
          <ngx-skeleton-loader count="1" appearance="line"></ngx-skeleton-loader>
        </div>
      </div>
    </div>
  </div>
</section>
